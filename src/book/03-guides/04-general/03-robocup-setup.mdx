---
section: Guides
chapter: General
title: RoboCup Setup
description: Setting up the robot for RoboCup Games
slug: /guides/general/robocup-setup
authors:
  - Cameron Murtagh (@CMurtagh-LGTM)
  - Ysobel Sims (@ysims)
---

This guide details the steps required to set up the robot for RoboCup games. It assumes you are familiar with the normal codebase and robot set up, as per the [Getting Started page](/guides/main/getting-started).

## Networking

The networking on the robot needs to be changed from the default NUbots laboratory network to the RoboCup field network, or to the NETGEAR router in the laboratory for practise games. These steps involve changing configuration files locally on a computer and then installing them to to the robot and running the `systemconfiguration` program.

1.  Checkout the RoboCup branch and open `modules/tools/SystemConfiguration/data/system`. If there is no RoboCup branch yet then you will need to create one. If you are running a practise game in the laboratory, you can make the changes locally or in a practise game branch.

2.  Rename `default/etc/systemd/30-wlp58s0.network` to `default/etc/systemd/40-wlp58s0-robocup.network`. Note that this is locally within the codebase, not on the robot.

3.  Run `wpa_passphrase SSID PASSWORD`, where `SSID` is the name of the wireless network and `PASSWORD` is the password for the network. Copy the output.

4.  Open `default/etc/wpa_supplicant/wpa_supplicant-wlp58s0.conf` and add the copied output from the previous step to the end of the file. Within the braces, add `priority=3` on a new line. The block should look like this, where `HASHED_PASSWORD` is a long string of letters and numbers:

    ```sh
    network={
        ssid="SSID"
        #psk="PASSWORD"
        psk=HASHED_PASSWORD
        priority=3
    }
    ```

5.  For each robot `X` do:

    1. Rename `nugusX/etc/systemd/network/40-wlp58s0-robocup.network` to `nugusX/etc/systemd/network/30-wlp58s0.network`.

    2. By default, this file is set to the configuration for the NETGEAR router for practise games. At RoboCup, you will need to edit this to match the networking information given to you by the Technical Committee.

       `Address` is the address of the robot. When SSHing to the robot, this is the address you will use. It is defined by the subnet, the team number, and the robot number. Usually the subnet mask is `255.255.0.0`, which indicates that the first two numbers define the subnet. The full address will be `192.168.TEAM_NUMBER.ROBOT_NUMBER` or `10.1.TEAM_NUMBER.ROBOT_NUMBER`.

       Normally, `Gateway` and `DNS` are not needed for RoboCup so you can remove them from the file.

    3. Copy the settings under `[Network]` from the file in the previous step and replace them in `nugusX/etc/systemd/network/10-bond0.network`. This is important if the `bond0` network is `UP` on the robot.

    4. In a terminal in the root of the NUbots repo, build and install the configuration files with `./b build && ./b install -co <ADDRESS>`, where `<ADDRESS>` is the robot address from the previous step.

    5. `ssh` onto the robot using `ssh nubots@<ADDRESS>`.

       <Alert type='info'>

       When running via `ssh` make sure that you have a monitor and keyboard nearby to handle any mistakes.

       </Alert>

    6. Run `sudo ./systemconfiguration` on the robot.

    7. Restart the network services on the robot:

       ```bash
       $ sudo systemctl daemon-reload
       $ sudo systemctl restart systemd-networkd
       $ sudo systemctl restart wpa_supplicant@wlp58s0
       ```

To change back to the NUbots laboratory network:

1. Reset the configuration files locally to the same as the main branch.

2. Run `./b build`.

3. For each robot, run `./b install -co <ADDRESS>`.

4. On each robot, run `sudo ./systemconfiguration` and restart the network services.

   ```bash
   $ sudo systemctl daemon-reload
   $ sudo systemctl restart systemd-networkd
   $ sudo systemctl restart wpa_supplicant@wlp58s0
   ```

### Troubleshooting

If you are experiencing problem, it may be beneficial to reset any changes and start again. If you cannot connect to the robot wirelessly, you can connect to the robot via ethernet. If you cannot connect to the robot via ethernet, you can plug in a monitor and keyboard to directly run commands on the robot.

The following general information may be useful in understanding the networking set up if anything goes wrong.

The robot will default to using the first alphanumeric network configuration file. If you have multiple network configuration files, you can change the priority of the network configuration files by changing the number in the filename. For example, `30-wlp58s0.network` will be used before `40-wlp58s0.network`.

`eno1` refers to ethernet. `wlp58s0` refers to wireless. `bond0` refers to the bonded network interface. This abstracts the ethernet and wireless configurations so it is easier to switch between them.

The network configuration files on the robot are found in `/etc/systemd/network`. The wireless network settings are found in `/etc/wpa_supplicant/wpa_supplicant-wlp58s0.conf`.
